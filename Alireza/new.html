<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  /**
 * The CSS shown here will not be introduced in the Quickstart guide, but shows
 * how you can use CSS to style your Element's container.
 */
  .StripeElement {
    background-color: white;
    height: 40px;
    padding: 0px 12px;
    border-radius: 2px;
    border:  1px solid #e6ebf1;

    /* box-shadow: 0 1px 3px 0 #e6ebf1; */
    -webkit-transition: box-shadow 150ms ease;
    transition: box-shadow 150ms ease;
  }

  .StripeElement--focus {
    /* box-shadow: 0 1px 3px 0 #cfd7df; */
  }

  .StripeElement--invalid {
    border-color: #fa755a;
  }

  .StripeElement--webkit-autofill {
    background-color: #fefde5 !important;
  }

  #card-errors {
    color: red;
  }
</style>


<select-box></select-box>
<wizard on-finish="finishedWizard()" hide-indicators="true">
  <wz-step title="Rental Info" canexit="step1ExitValidation">
    <style>
        #posi {
            position:absolute;
            left:10px;
            bottom:-200px;
        }
        
        #posi_hourly {
            position:absolute;
            left:10px;
            bottom: 40px;
        }
    
        @-webkit-keyframes animatetop {
            from {top:-300px; opacity:0} 
            to {top:0; opacity:1}
        }
        
        @keyframes animatetop {
            from {top:-300px; opacity:0}
            to {top:0; opacity:1}
        }
        
        #boxes {
            -webkit-animation-name: animatetop;
            -webkit-animation-duration: 0.4s;
            animation-name: animatetop;
            animation-duration: 0.4s;
        }
        
        
        .mode {
            top:100px;
            z-index: 10000; 
            position:fixed;
            left:100px;
            width:300px;
            height:20em;
            display:none;
        }
        
        .frameworks {
            border-width:5px; 
            border-style: outset;
            border-color: lightgray;
            background-color: #d6f1f5;        
        }
    
    
      .required:before{ 
        content:'*'; 
        color:red; 
        padding-left:5px;
      }
      /*add fix*/
      .container-fluid {margin-left: 5%; margin-right: 5%;}
      .addMarginBothSide {margin-left: 5%; margin-right: 5%;}
      
      .site_image {
          max-width:150px;
          max-height:85px;
          width: auto;
          height: auto;
          margin-right: 50px;
      }
      /*add fix end*/
      .disabled-control input:hover:disabled, .disabled-control select:hover:disabled {
        cursor: default !important;       
      }

      .disabled-control input:disabled, .disabled-control select:disabled {
        color: grey !important;
      }
      /*change ui*/
      .fake_button {
        padding:10px;  
        cursor: pointer;
        background: #ffbf00;
      }
      
      .fake_button:hover{
        background-color: orange;
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2), 0 3px 6px rgba(0, 0, 0, 0.26);
       }
      
      .fake_button_default {
        padding:10px;  
        cursor: pointer;
        background: lightgray;
      }
      
      .fake_button_default:hover{
        background-color: gray;
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2), 0 3px 6px rgba(0, 0, 0, 0.26);
       }
       
        .small-image {
           -webkit-transform: scale(0.7); /* Saf3.1+, Chrome */
            -moz-transform: scale(0.7); /* FF3.5+ */
            -ms-transform: scale(0.7); /* IE9 */
            -o-transform: scale(0.7); /* Opera 10.5+ */
            transform: scale(0.7);
        }
       
       .title-background {
        /*add fix*/
        background-color: #006a84;
        /*add fix end*/
        cursor: help;
       }
      
      /*change ui end*/
      .add_margin_bottom {
        margin-bottom: 5px;
      }
      @media only screen  
      {
        .note.note-info{
          display:inherit;
        }
        #select-rental {
          max-width:33%;
          float:left;
        }
        #select-products {
          max-width:33%;
          float:left;
        }

        .col-md-3 {
          width:25%;
          float:left;   
        }

        .ipadh1 {
          text-align:left;
        }

        .mynote {
          color: white;
          background-color: #6096B3;
        }

        .img-responsive {
          width: 128px;
          height: 128px;
        }

        .img-tiny {
            width: 64px;
            height: 64px;
        }
        
        input::-webkit-calendar-picker-indicator { 
          visibility: hidden;        
        }
        input[type=date]::-webkit-inner-spin-button { 
          -webkit-appearance: none; 
          display: none; 
        }

        body.wait, body.wait *{ 
          cursor: wait!important; 
        }
      }
      /*add fix*/

      @media only screen and (max-width: 618px) {
          .site_image{
          display: block;
          max-width:80px;
          max-height:80px;
          width: auto;
          height: auto;}
      }
      @media only screen and (max-width: 960px) {
          .show-as-div-mobile{display: block;}
      }

      @media only screen and (max-width: 900px) {
          .mode {
                top:0;
                position:absolute;
                left: 5px;
            }
      }

      /*add fix end*/
      /* Safari 10.1+ (which is the latest version of Safari at this time) */ 
      @media not all and (min-resolution:.001dpcm) { 
        .datepicker{ 
          margin-top: -20px; 
        }
      } 

      /* Chrome 29+ */ 
      @media screen and (-webkit-min-device-pixel-ratio:0) and (min-resolution:.001dpcm) { 
        .datepicker{ margin-top: -20px; 
        } 
      } 

      /* Chrome 22-28 */ 
      @media screen and(-webkit-min-device-pixel-ratio:0) { 
        .datepicker { 
          margin-top: -20px; 
        } 
      } 

      /* Firefox */
      @-moz-document url-prefix() 
      { 
        .datepicker{ 
          margin-top: -20px; 
        } 
      }

      /* Microsoft Edge */
      @supports (-ms-ime-align:auto) { 
        .datepicker { display:none !important; } 
      }
    </style>

    <div class= "container-fluid">
      <div class="row-fluid">
        <div class="page-head" style="margin-top: 10px;">
            <!--change ui-->
            <div class="portlet light bordered text-center clearfix" title="Please fill in all the fields with *">
               
                <h1 class="caption-subject bold" style="cursor: default">
                <!-- add fix -->
                <img ng-src="/logos/{{logo}}" alt="site logo" class="navlogo site_image" onerror="this.src='/assets/icon/logo_default_dark.png'"/> 
                <!-- add fix end -->
                {{ resource[locale]['form_title']}}</h1>
            </div>
            <!--hide buttons if not in backend, 1 button appears-->
            <div class="row add_margin_bottom" ng-if="order.is_admin">
                <div class="col-sm-6" ng-if="!hide_walk_in_order && (order.is_admin || default_reservation_type == 'immediate')">
                    <label ng-class="default_reservation_type == 'immediate' ? 'fake_button col-sm-10 text-center' : 'fake_button_default col-sm-10 text-center'"><input type="radio" ng-model="default_reservation_type" name="reservation_type" value="immediate" ng-click="changeReservationType(default_reservation_type)" style="display: none;"> Rent Now</label><br>
                </div>
                <div class="col-sm-6" ng-if="reservation_is_enabled && (order.is_admin || default_reservation_type == 'future')">
                    <!--ui fix-->
                    <span ng-if="!hide_walk_in_order && (order.is_admin || default_reservation_type == 'immediate')">
                    <label ng-class="default_reservation_type == 'future' ? 'fake_button col-sm-10 col-sm-offset-2 text-center' : 'fake_button_default col-sm-10 col-sm-offset-2 text-center'"><input type="radio" ng-model="default_reservation_type" name="reservation_type" value="future" ng-click="changeReservationType(default_reservation_type)" style="display: none"> Reserve for Later</label><br>
                    </span>
                    <span ng-if="!(!hide_walk_in_order && (order.is_admin || default_reservation_type == 'immediate'))">
                    <label ng-class="default_reservation_type == 'future' ? 'fake_button col-sm-10 text-center' : 'fake_button_default col-sm-10 text-center'"><input type="radio" ng-model="default_reservation_type" name="reservation_type" value="future" ng-click="changeReservationType(default_reservation_type)" style="display: none"> Reserve for Later</label><br>
                    </span>
                </div>
            </div>
            <div class="row add_margin_bottom" ng-if="!order.is_admin">
                <span ng-if="(!hide_walk_in_order && (order.is_admin || default_reservation_type == 'immediate')) && (reservation_is_enabled && (order.is_admin || default_reservation_type == 'future'))">
                    <div class="col-sm-6">
                        <label ng-class="default_reservation_type == 'immediate' ? 'fake_button col-sm-10 text-center' : 'fake_button_default col-sm-10 text-center'"><input type="radio" ng-model="default_reservation_type" name="reservation_type" value="immediate" ng-click="changeReservationType(default_reservation_type)" style="display: none;"> Rent Now</label><br>
                    </div>
                    <div class="col-sm-6">
                        <label ng-class="default_reservation_type == 'future' ? 'fake_button col-sm-10 col-sm-offset-2 text-center' : 'fake_button_default col-sm-10 col-sm-offset-2 text-center'"><input type="radio" ng-model="default_reservation_type" name="reservation_type" value="future" ng-click="changeReservationType(default_reservation_type)" style="display: none"> Reserve for Later</label><br>
                    </div>
                </span>
            </div>
            <!--change ui end-->
          <div class="pull-right" ng-if="show_language_selector">
            <label>Choose language</label>
            <select ng-model="locale" ng-click="languageChanged(locale)" ng-change="languageChanged(locale)">
              <option value="nl" selected="selected"><i class="fa fa-flag"></i> Dutch</option>
              <option value="en">English</option>
              <option value="de">German</option>
            </select>
          </div>
          
        </div>
      </div>
        <!--change ui sam sam(remove note here)-->
        <!-- add fix (change row to col-sm-12 and add clearfix) -->
      <div class="portlet light bordered clearfix">
        <!--change ui-->
        <div class="portlet-title col-sm-12 title-background" title="{{ resource[locale]['filling_message']}}">
        <!-- add fix end -->
          <div class="caption" style="margin-left: 10px">
            <div class="caption-subject bold uppercase" style="color:white"><i class="fa fa-user"></i> {{ resource[locale]['customer_info']}}</div>
          </div>
          <div class="tools" style="margin-right: 10px">
            <a href="" class="collapse" data-original-title="" title=""></a>
          </div>
        </div>
        <!--change ui end-->
        <div class="portlet-body form" >
            <form class="form-horizontal" autocomplete="off" novalidate name="customerDataForm" id="Renter_01">  <!-- id added by Mehdi-->
                <div class="form-body">
                    <div class="row">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-6" ng-if="customer_lookup_by_email">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <input class="form-control" type="email" name="email" id="email" ng-model="customer.email" ng-change="updateSearch()" autocomplete="off">
                                            <label for="email"> {{ resource[locale]['customer_info_email']}} <span ng-if="customer_email_is_required" class="required" aria-required="true"></span></label>
                                            <i class="fa fa-envelope"></i>
                                        </div>
                                    </div>
                                    <span style="color:red" ng-show="customerDataForm.email.$dirty && customerDataForm.email.$invalid">
                                        <span ng-show="customerDataForm.email.$error.email">{{ resource[locale]['customer_info_email_error']}}</span>
                                    </span>
                                </div>
                                <div class="col-sm-6" ng-if="customer_lookup && !customer_lookup_by_email">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <input type="text" id="customer_phone" name="customer_phone" class="form-control" ng-model="customer.phone" ng-change="updateSearch()" ng-model-options="{debounce:500}" autocomplete="off" required>
                                            <label>{{ resource[locale]['customer_info_phone']}} <span ng-if="customer_phone_is_required" class="required" aria-required="true"></span></label>
                                            <i class="fa fa-phone"></i>
                                        </div>
                                    </div>
                                    <span style="color:red" ng-show="customerDataForm.customer_phone.$dirty && customerDataForm.customer_phone.$invalid">
                                        <span ng-show="customerDataForm.customer_phone.$error.required">{{ resource[locale]['customer_info_phone_error']}}</span>
                                    </span>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <input class="form-control" ng-model="customer.first_name" required name="first_name" type="text" id="first_name" ng-change="customerValidate()" autocomplete="off">
                                            <label for="first_name">{{ resource[locale]['customer_info_firstname']}} <span class="required" aria-required="true"></span></label>
                                            <i class="fa fa-user"></i>
                                        </div>
                                        <span style="color:red" ng-show="customerDataForm.first_name.$dirty && customerDataForm.first_name.$invalid">
                                            <span ng-show="customerDataForm.first_name.$error.required">{{ resource[locale]['customer_info_firstname_error']}}</span>
                                        </span>
                                    </div>
                                </div>

                                <div class="col-sm-6">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <input class="form-control" name="last_name" required ng-model="customer.last_name" type="text" id="last_name" ng-change="customerValidate()" autocomplete="off">
                                            <label for="last_name">{{ resource[locale]['customer_info_lastname']}} <span class="required" aria-required="true"></span></label>
                                            <i class="fa fa-user"></i>
                                        </div>
                                        <span style="color:red" ng-show="customerDataForm.last_name.$dirty && customerDataForm.last_name.$invalid">
                                            <span ng-show="customerDataForm.last_name.$error.required">{{ resource[locale]['customer_info_lastname_error']}}</span>
                                        </span>
                                    </div>
                                </div>
                                <div class="col-sm-6" ng-if="!customer_lookup || customer_lookup_by_email">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <input type="text" id="customer_phone" name="customer_phone" class="form-control" ng-model="customer.phone" ng-change="customerValidate()" ng-model-options="{debounce:500}" autocomplete="off" required>
                                            <label>{{ resource[locale]['customer_info_phone']}} <span ng-if="customer_phone_is_required" class="required" aria-required="true"></span></label>
                                            <i class="fa fa-phone"></i>
                                        </div>
                                    </div>
                                    <span style="color:red" ng-show="customerDataForm.customer_phone.$dirty && customerDataForm.customer_phone.$invalid">
                                        <span ng-show="customerDataForm.customer_phone.$error.required">{{ resource[locale]['customer_info_phone_error']}}</span>
                                    </span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6" ng-if="!customer_lookup_by_email">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <input class="form-control" type="email" name="email" id="email" ng-model="customer.email" ng-change="customerValidate()" autocomplete="off">
                                            <label for="email"> {{ resource[locale]['customer_info_email']}} <span ng-if="customer_email_is_required" class="required" aria-required="true"></span></label>
                                            <i class="fa fa-envelope"></i>
                                        </div>
                                    </div>
                                    <span style="color:red" ng-show="customerDataForm.email.$dirty && customerDataForm.email.$invalid">
                                        <span ng-show="customerDataForm.email.$error.email">{{ resource[locale]['customer_info_email_error']}}</span>
                                    </span>
                                </div>
                                <div class="col-sm-6" ng-if="customer_address_type == 'brief'">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <input class="form-control" name="address_street" type="text" id="address_street" ng-model="customer.address.street_1" ng-change="customerValidate()" autocomplete="off">
                                            <label for="address_street">{{ resource[locale]['customer_info_address']}} </label>
                                            <i class="fa fa-map-marker"></i>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="row" ng-if="customer_address_type == 'detailed'">
                                <div class="col-sm-6 ">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <input class="form-control" name="address_street1" type="text" id="address_street1" ng-model="customer.address.street_1" ng-change="customerValidate()" autocomplete="off" required>
                                            <label for="address_street1">{{ resource[locale]['customer_info_address1']}} <span class="required" aria-required="true"></span></label>
                                            <i class="fa fa-map-marker"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <input class="form-control" name="address_street2" type="text" id="address_street2" ng-model="customer.address.street_2" ng-change="customerValidate()" autocomplete="off">
                                            <label for="address_street2">{{ resource[locale]['customer_info_address2']}} </label>
                                            <i class="fa fa-map-marker"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <input class="form-control" name="address_city" type="text" id="address_city" ng-model="customer.address.city" ng-change="customerValidate()" autocomplete="off" required>
                                            <label for="address_city">{{ resource[locale]['customer_info_city']}} <span class="required" aria-required="true"></span></label>
                                            <i class="fa fa-map-marker"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <input class="form-control" name="address_province" type="text" id="address_province" ng-model="customer.address.state_code" ng-change="customerValidate()" autocomplete="off" required>
                                            <label for="address_province">{{ resource[locale]['customer_info_state']}} <span class="required" aria-required="true"></span></label>
                                            <i class="fa fa-map-marker"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <input class="form-control" name="address_postal_code" type="text" id="address_postal_code" ng-model="customer.address.postal_code" ng-change="customerValidate()" autocomplete="off" required>
                                            <label for="address_postal_code">{{ resource[locale]['customer_info_postal_code']}} <span class="required" aria-required="true"></span></label>
                                            <i class="fa fa-map-marker"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <select name="address_country" id="address_country" class=" form-control" data-live-search="true" data-size="8" autocomplete="off" ng-change="customerValidate()"
                                                    ng-init="customer.address.country_code = (default_country_for_reservation ? default_country_for_reservation : 'US')"
                                                    ng-model="customer.address.country_code"
                                                    ng-options="value.code as value.name for value in countries"></select>
                                            <label for="address_country">{{ resource[locale]['customer_info_country']}} <span class="required" aria-required="true"></span></label>
                                            <i class="fa fa-map-marker"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <span style="color:red" ng-show="hasError['customer']">
                                <span>{{ errorMessage['customer']}}</span>
                            </span>
                            <span>
                                <span><small><br /><strong>{{ resource[locale]['privacy_policy_title']}}</strong>: {{ site_title}}{{ resource[locale]['privacy_policy']}} </small></span>
                            </span>
                            <br />
                            <span>
                                <span style="color:red">{{ resource[locale]['field_is_required']}}</span>
                            </span>
                        </div>
                    </div>
                </div>
            </form>
        </div> 
      </div>
    </div>

    <div class= "container-fluid">
    <!-- add fix -->
      <div class="portlet light bordered clearfix" ng-if="(duration_type=='fixed' || is_online_reservation) && show_rental_period_before_product_selection">
        <!--change ui-->
          <div class="portlet-title col-sm-12 title-background" title="Rental Duration">
          <!-- add fix end -->
          <div class="caption" style="margin-left: 10px">
            <div class="caption-subject bold uppercase" style="color:white"><i class="fa fa-calendar-o"></i> {{ resource[locale]['rental_period']}}</div>
          </div>
          <div class="tools" style="margin-right: 10px">
            <a href="" class="collapse"></a>
          </div>
        </div>
          <!--change ui end-->
        <div ng-if="rental_period_message" ng-bind-html="rental_period_message">
            
        </div>
          
        <div class="portlet-body form">
            <form class="form-horizontal" autocomplete="off" novalidate name="datesDataForm" id="Renter_02">  <!-- id added by Mehdi-->
                <div class="form-body">
                    <div class="row">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-3">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <input type="date" id="order_from_date" name="order_from_date" class="form-control" data-provide="datepicker" data-date-format="yyyy-mm-dd" ng-model="order.order_from_date" autocomplete="off" required>
                                            <!--<input type="date" id="order_from_date" name="order_from_date" class="form-control" data-provide="datepicker" data-date-format="yyyy-mm-dd" ng-model="order.order_from_date" ng-model-options="{timezone: timezone}" autocomplete="off" required>-->
                                            <label>{{ (delivery_option_enabled && order.selected_delivery_option == 'delivery') ? resource[locale]['rental_period_delivery_date'] : resource[locale]['rental_period_start_date'] }} <span class="required" aria-required="true"></span></label>
                                            <i class="fa fa-calendar"></i>
                                        </div>
                                    </div>
                                    <span style="color:red" ng-show="datesDataForm.order_from_date.$dirty && datesDataForm.order_from_date.$invalid">
                                        <span ng-show="datesDataForm.order_from_date.$error.required">{{ resource[locale]['rental_period_start_date_required']}}</span>
                                    </span>
                                </div>
                                <div class="col-sm-3" ng-if="show_from_time">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <select class="form-control" ng-model="order.order_from_time" ng-change="updateRentItemsForAllRenters()" ng-options="t.value as t.name for t in from_time_array" data-live-search="true" data-size="8">
                                                <option selected value>-- {{ resource[locale]['rental_period_select']}} --</option>
                                            </select>
                                            <label>{{ (delivery_option_enabled && order.selected_delivery_option == 'delivery') ? resource[locale]['rental_period_desired_delivery_time'] : resource[locale]['rental_period_desired_pickup_time'] }} <span class="required" aria-required="true"></span></label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3" ng-if="use_duration">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <select class="form-control" ng-model="order.order_duration" ng-init="order.order_duration=default_duration" ng-change="updateRentItemsForAllRenters()" ng-options="period.duration as period.display_title for period in rentalPeriods" data-live-search="true" data-size="8">
                                                <option selected value>-- {{ resource[locale]['rental_period_select']}} --</option>
                                            </select>
                                            <label>{{ resource[locale]['rental_period_duration']}} <span class="required" aria-required="true"></span></label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3" ng-if="!use_duration">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <input type="date" id="order_to_date" name="order_to_date" class="form-control" data-provide="datepicker" data-date-format="yyyy-mm-dd" ng-model="order.order_to_date" autocomplete="off" required>
                                            <!--<input type="date" id="order_to_date" name="order_to_date" class="form-control" data-provide="datepicker" data-date-format="yyyy-mm-dd" ng-model="order.order_to_date" ng-model-options="{timezone: timezone}" autocomplete="off" required>-->
                                            <label>{{ resource[locale]['rental_period_return_date']}} </label>
                                            <i class="fa fa-calendar"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3" ng-if="show_to_time && !use_duration">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <select class="form-control" ng-init="order.order_to_time = to_time_array[0].value" ng-model="order.order_to_time" ng-change="updateRentItemsForAllRenters()" ng-options="t.value as t.name for t in to_time_array" data-live-search="true" data-size="8"></select>
                                            <label>{{ resource[locale]['rental_period_return_time']}}</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3 disabled-control" ng-if="use_duration">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <input type="date" id="order_to_date" disabled="disabled" name="order_to_date" class="form-control" data-provide="datepicker" data-date-format="yyyy-mm-dd" ng-model="order.order_to_date" autocomplete="off" required>
                                            <label>{{ resource[locale]['rental_period_return_date']}} </label>
                                            <i class="fa fa-calendar"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3 disabled-control" ng-if="show_to_time && use_duration">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <select class="form-control" disabled="disabled" ng-init="order.order_to_time = order.order_from_time" ng-model="order.order_to_time" ng-options="t.value as t.name for t in to_time_array" data-live-search="true" data-size="8"></select>
                                            <label>{{ resource[locale]['rental_period_return_time']}}</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <span style="color:red" ng-show="!isValidDate()">
                                        <span>{{ errorMessage['order_date'] }}</span>
                                    </span>

                                </div>
                            </div>
                            <span style="color:red" ng-show="hasError['order_date']">
                                <span>{{ errorMessage['order_date'] }}</span>
                            </span>
                        </div>
                    </div>
                </div>
            </form>
        </div>
      </div>	
    </div>

    <div class= "container-fluid">
        <!--change ui sam sam(remove note here)-->
        <!--<p class="mynote note" ng-show="!order.customer_has_rent_item">{{ resource[locale]['select_a_product']}}</p>-->
        <!-- add fix -->
        <div class="portlet light bordered clearfix" data-ng-repeat="(renter_index, renter) in order.renters" id="Renter_03">  <!-- id added by Mehdi--> 
            <!--change ui-->
            <div class="portlet-title col-sm-12 title-background" title="{{ resource[locale]['select_a_product']}}">
                <div class="caption" ng-if="single_renter" style="margin-left: 10px">
                    <div data-ng-if="renter_index == 0" class="caption-subject bold uppercase" style="color:white">{{ resource[locale]['rent_order_want_rent']}}</div>
                </div>
                <div class="caption" ng-if="!single_renter" style="margin-left: 10px">
                    <div data-ng-if="renter_index != 0 || !(customer.first_name || customer.last_name)" class="caption-subject bold uppercase">
                        <span style="color:white">Renter {{ (renter_index * 1) + 1}}:</span>
                        <input class="small" name="renter_{{renter_index}}" type="text" required="required" placeholder="Write renter's full name" ng-model="order.renters[renter_index].name">

                    </div>
                    <div data-ng-if="renter_index == 0 && (customer.first_name || customer.last_name)" class="caption-subject bold uppercase">
                        <span style="color:white">Renter 1: </span><span class="small" style="color:white">{{ customer.first_name + ' ' + customer.last_name}}</span>
                    </div>
                </div>
                <div class="tools" style="margin-right: 10px">
                    <a href="" class="collapse" data-original-title="" title=""></a>
                </div>
                <!-- add fix end -->
            </div>
            <!--change ui end-->
            <div class="portlet-body form" id="renter_section_id_{{ (renter_index * 1) + 1}}">
                <div class="text-center clearfix" style="position:relative">
                    <!--change ui-->
                    <div class="row-fluid" ng-if="(renter.products_for_rent | objLength) > 0">
                        <!--change ui end-->
                        <div class="form-group clearfix">
                            <div class="col-sm-1 hidden-xs bold"> </div>
                            <div class="col-sm-4 hidden-xs bold">{{ resource[locale]['rent_order_item']}}<span class="required"></span></div>
                            <div class="col-sm-2 hidden-xs bold" ng-if="show_size_to_customer">{{ resource[locale]['rent_order_size']}}</div>
                            <div class="col-sm-2 hidden-xs bold" ng-if='show_qty_to_customer'>{{ resource[locale]['rent_order_qty']}}<span class="required" area-required="true"></span></div>
                            <div class="col-sm-1 hidden-xs bold" ng-show="order.is_admin && must_check_availability">{{ resource[locale]['rent_order_available']}}</div>
                        </div>
                    </div>
                    <div class="row-fluid">
                        <!--label class="caption-subject font-blue bold">{{root_category.title}}</label-->
                        <div data-ng-repeat="(index, product_for_rent) in renter.products_for_rent">
                            <div class="form-group clearfix">
                                <div class="row">
                                    <div class="col-xs-4 col-sm-1">
                                        <img class="img-tiny" ng-src="/assets/icon/{{product_for_rent.icon_name}}" alt="{{ product_for_rent.group_name }}" title="{{ product_for_rent.group_name }}" onerror="this.src='/assets/icon/logo_default_dark.png'">
                                    </div>
                                    <div class="col-xs-8 col-sm-4">
                                        <div class="col-xs-8 visible-xs bold">{{ resource[locale]['rent_order_item']}}</div>
                                        <select ng-model="renter.products_for_rent[index].category_id" ng-change="updateRentItemsForAllRenters(); clearPostalName(); getZones(); updateDeliveryPostalName(); getDeliveryType(); updateZipcode()" ng-options="value.id as value.name for value in renter.products_for_rent[index].categories" class="form-control" data-live-search="true" data-size="8">
                                            <option selected value>-- {{ resource[locale]['rent_order_select']}} --</option>
                                        </select>
                                    </div>
                                    <div class="col-xs-4 col-sm-2" ng-if='show_size_to_customer'>
                                        <div class="col-xs-8 visible-xs bold" ng-if="show_size_to_customer">{{ resource[locale]['rent_order_size']}}</div>
                                        <select ng-model="renter.products_for_rent[index].selected_option" ng-change="updateOption(renter_index)" class="form-control" data-live-search="true" data-size="8" ng-options="value.option as value.option for value in  productOptions[renter.products_for_rent[index].category_id]"></select>
                                    </div>

                                    <div class="col-xs-4 col-sm-2" ng-if='show_qty_to_customer'>
                                        <div class="col-xs-8 visible-xs bold">{{ resource[locale]['rent_order_qty']}}</div>
                                        <select ng-model="renter.products_for_rent[index].qty" ng-init="1" ng-change="updateRentItemsForAllRenters()" class="form-control" data-live-search="true" data-size="8" ng-options="n for n in [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]"></select>
                                    </div>
                                    <div class="col-xs-4 col-sm-1" ng-show="order.is_admin && must_check_availability">
                                        <div class="col-xs-8 visible-xs bold" ng-show="order.is_admin && must_check_availability">{{ resource[locale]['rent_order_available']}}</div>
                                        <input class="form-control" type="text" name="qty-available" ng-model="qty_available[renter.products_for_rent[index].category_id]">
                                    </div>
                                    <div class="col-xs-6 col-sm-2">
                                        <!--change ui remove add category button-->
                                        <!--<button class="btn green pull-left" ng-click="addNewRentItem(renter_index, product_for_rent.parent_category)" title="Add Item"><i class="fa fa-plus"></i></button>-->
                                        <button class="btn red pull-left" ng-click="removeRentItem(renter_index, index); getZones(); updateDeliveryPostalName()"><i class="fa fa-remove" title="Remove Item"></i></button>
                                    </div>
                                    <a href="{{renter.products_for_rent[index].linksrc_hourly}}" class="btn btn-primary" onclick="return_modal()" id="return_modal" target="ifra" data-ng-if="renter.products_for_rent[index].category_id && show_availability_calendar_when_place_order && rental_time_type == 'hourly'">Show Availablility</a>
                                    <a href="{{renter.products_for_rent[index].linksrc}}" class="btn btn-primary" onclick="return_modal()" id="return_modal" target="ifra" data-ng-if="renter.products_for_rent[index].category_id && show_availability_calendar_when_place_order && rental_time_type != 'hourly'">Show Availablility</a>
                                </div>
                                <div class="row margin-top-15">
                                    <div class="col-xs-8 col-sm-4">
                                        <div data-ng-if="renter.products_for_rent[index].category_id && show_category_image_to_customer">
                                            <img ng-if="renter.products_for_rent[index].category_image" ng-src="data:image/JPEG;base64,{{ renter.products_for_rent[index].category_image }}" width="250" alt="No product image!">
                                        </div>
                                    </div>
                                    <div class="col-xs-10 col-sm-6 text-left">
                                        <div data-ng-if="renter.products_for_rent[index].category_id && show_category_spec_to_customer">
                                            <div ng-bind-html="renter.products_for_rent[index].category_specification"></div>
                                        </div>
                                    </div>

                                </div>
                                <!--calendar frontend-->
                                <div class="row text-left">
                                    <!--version 1-->
                                    <!--<div data-ng-if="renter.products_for_rent[index].category_id && show_availability_calendar_when_place_order && rental_time_type != 'hourly'">-->
                                    <!--    <iframe src="{{renter.products_for_rent[index].linksrc}}" width="700" height="500" frameBorder="0"></iframe>-->
                                    <!--</div>-->
                                    <!--<div data-ng-if="renter.products_for_rent[index].category_id && show_availability_calendar_when_place_order && rental_time_type == 'hourly'">-->
                                    <!--    <iframe src="{{renter.products_for_rent[index].linksrc_hourly}}" width="700" height="150" frameBorder="0"></iframe>-->
                                    <!--</div>-->
                                    <!--version 2-->
                                    <div id="boxes" class="mode" data-ng-if="renter.products_for_rent[index].category_id && show_availability_calendar_when_place_order && rental_time_type != 'hourly'">
                                        <iframe frameborder="0px" height="500" width="800" class="frameworks" name="ifra">
                                            Your browser does not support iframe, please use another browser, thank you.
                                        </iframe>
                                        <a id='posi' onclick="cancel()" class="btn btn-primary btn-lg ">Done</a>
                                    </div>
                                    <div id="boxes" class="mode" data-ng-if="renter.products_for_rent[index].category_id && show_availability_calendar_when_place_order && rental_time_type == 'hourly'">
                                        <iframe frameborder="0px" height="280" width="800" class="frameworks" name="ifra">
                                            Your browser does not support iframe, please use another browser, thank you.
                                        </iframe>
                                        <a id='posi_hourly' onclick="cancel()" class="btn btn-primary btn-lg ">Done</a>
                                    </div>
                                    <script>
                                        function return_modal() {
                                            document.getElementById("boxes").style.display = "unset";
                                        }
                                        function cancel() {
                                            document.getElementById("boxes").style.display = "none";
                                        }
                                    </script>
                                </div>
                                <!--calendar frontend end-->
                                <div data-ng-if="hasCategoryAttribute(renter.products_for_rent[index].category_id)">
                                    <div><span><br></span></div>
                                    <div style="display:inline-block;">
                                        <div data-ng-repeat="(ra_index, renter_attribute) in filtered_category_attributes" style="display:inline;">
                                            <div class="col-xs-5">
                                                <div>
                                                    <input tabindex="-1" style="padding-left: 5px; border: 0px solid;" readonly type="text" value="{{renter_attribute.attribute_name}}">
                                                    <input class="hidden" name="attribute_id" id="attribute_id{{renter_attribute.attribute_id}}" ng-init="renter.products_for_rent[index].attributes[ra_index].attribute_id = renter_attribute.attribute_id" type="text" value="{{renter_attribute.attribute_id}}">
                                                    <input class="hidden" name="attribute_name" id="attribute_name" ng-init="renter.products_for_rent[index].attributes[ra_index].attribute_name = renter_attribute.attribute_name" type="text" value="{{renter_attribute.attribute_name}}">
                                                    <input data-ng-if="renter_attribute.input_type == 'text'" name="attribute_value" id="attribute_value" required ng-model="renter.products_for_rent[index].attributes[ra_index].attribute_value" type="text">
                                                    <select data-ng-if="renter_attribute.input_type == 'select'" ng-model="renter.products_for_rent[index].attributes[ra_index].attribute_value" class="form-control" data-live-search="true" data-size="8" ng-options="value.value as value.display_name for value in attributes_list_of_values | filter:{attribute_id : renter_attribute.attribute_id}"></select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--change ui-->
                        <div class="text-center" title="Please select at least one rental item">
                            <h2 class="caption-subject bold" style="cursor: default">Select A Category</h2>
                        </div>
                        <div class="text-center">
                            <br class="hiddex" />
                            <button id="" class="btn green image-container small-image" data-ng-repeat="category in productCategories| rentalRootCategories" ng-click="addNewRentItem(renter_index, category)" style="margin: 5px 2px;">
                                <img class="img-responsive" ng-src="/assets/icon/{{category.icon_name}}" onerror="this.src='/assets/icon/logo_default_dark.png'">
                                {{ category.name}}
                            </button>
                        </div>
                        <!--change ui end-->
                    </div>
                </div>
                <span style="color:red" ng-show="hasError['category']">
                    <span>{{ errorMessage['category']}}</span>
                </span>
            </div>
            <!--change ui (remove add renter and remove renter)-->
            <br><hr>
            <span>
                <span>{{ resource[locale]['additional_items']}}</span>
            </span>
            <div class="row" ng-if="show_customer_notes">
                <div class="col-xs-12">
                    <div class="input-icon">
                        <!--<label for="customer_note"><i class="icon-note"></i> {{ resource[locale]['rent_order_special_requirements']}}</label>-->
                        <label for="customer_note"><i class="icon-note"></i><span ng-bind-html="customer_notes_title"></span></label>
                        <textarea class="form-control" name="customer_note" rows="2" id="customer_note" ng-model="order.customer_note" autocomplete="off"></textarea>
                    </div>
                </div>
            </div>
            <!--change ui-->
            <div class="text-center row" ng-if="!single_renter" style="margin-top: 10px">
                <button class="btn red" ng-click="removeTheRenter(renter_index); getZones(); updateDeliveryPostalName()" ng-if="renter_index > 0" title="Remove Renter">
                    <i class="fa fa-user"></i> Remove Above Renter
                </button>
                <!-- renter button remove the following-->
                <!-- <button class="btn btn-primary" data-ng-click="addNewRenter()" ng-if="(renter_index == 0) || (order.renters_count == 1)" title="Add Renter">
            <i class="fa fa-user-plus"></i> Add Another Renter
        </button> -->
            </div>
            <!--change ui-->
        </div>
       <!-- renter button-->
        <div class="row center-align text-center" style="margin-bottom: 20px;" id="Renter_04"> <!-- id added by Mehdi-->
            <button class="btn btn-lg btn-primary" data-ng-click="addNewRenter()" title="Add Renter">
                <i class="fa fa-user-plus"></i> Add Another Renter
            </button>
        </div>
      <!-- renter button end -->
      <div class="portlet light bordered" ng-if="is_online_reservation && delivery_option_enabled && has_delivery">
          <!--change ui-->
        <div class="portlet-title row title-background"  title="Delivery/pickup Information">
          <div class="caption" style="margin-left: 10px">
            <div ng-if="delivery_type == 'required'" class="caption-subject bold uppercase" style="color:white"><i class="fa fa-truck"></i> {{ resource[locale]['delivery_pickup_delivery_address']}}</div>
            <div ng-if="delivery_type == 'optional'" class="caption-subject bold uppercase" style="color:white"><i class="fa fa-truck"></i> {{ resource[locale]['delivery_pickup_option']}}</div>
            <div ng-if="delivery_type == 'pickup'" class="caption-subject bold uppercase" style="color:white"><i class="fa fa-map-marker"></i> {{ resource[locale]['delivery_pickup_pickup_address']}}</div>
          </div>
          <div class="tools" style="margin-right: 10px">
            <a href="" class="collapse"></a>
          </div>
        </div>
          
        <!--change ui end-->
        <div ng-if="delivery_option_enabled && has_delivery && delivery_message" ng-bind-html="delivery_message">

        </div>        
        <div class="portlet-body form">
            <form class="form-horizontal" autocomplete="off" novalidate name="daliveryDataForm" >
                <div class="form-body">
                    <div class="row">
                        <div ng-if="delivery_type == 'required'" class="panel-body">
                            <div class="row hide">
                                <div class="col-sm-3">
                                    <input type="radio" ng-model="order.selected_delivery_option" name="selected_delivery_option" value="delivery" checked="checked"> {{ resource[locale]['delivery_pickup_option_delivery']}}<br>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-8  col-sm-offset-1">
                                    <div class="form-group form-md-line-input" ng-if="customer_delivery_address_type!='detailed' && customer_delivery_address_type!='hotel'">
                                        <div class="input-icon">
                                            <input class="form-control" name="delivery_address" type="text" id="delivery_address" ng-model="order.delivery_address" ng-change="validateDeliveryAddress();" autocomplete="off">
                                            <label for="delivery_address">{{ resource[locale]['delivery_pickup_delivery_address']}} <span class="required" aria-required="true"></span></label>
                                            <i class="fa fa-map-marker"></i>
                                        </div>
                                        <span class="text-danger" ng-show="!delivery_address_is_valid">Delivery address is required.</span>
                                    </div> 
                                    <div class="row"  ng-if="customer_delivery_address_type=='detailed'">
                                        <span class="text-danger small" ng-show="detailed_delivery_address_is_valid==0">Please ensure you have filled in all the required areas for the delivery address!</span>
                                    
                                        <div class="col-sm-12 ">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="delivery_street_address" type="text" id="delivery_street_address" ng-model="order.delivery_street_address" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                    <label for="delivery_street_address">Street Address<span class="required" aria-required="true"></span></label>
                                                    <i class="fa fa-map-marker"></i>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6 ">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="delivery_city_address" type="text" id="delivery_city_address" ng-model="order.delivery_city_address" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                    <label for="delivery_city_address">City<span class="required" aria-required="true"></span></label>
                                                    <i class="fa fa-map-marker"></i>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6 ">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="delivery_state_address" type="text" id="delivery_state_address" ng-model="order.delivery_state_address" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                    <label for="delivery_state_address">State/Province<span class="required" aria-required="true"></span></label>
                                                    <i class="fa fa-map-marker"></i>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6" ng-if="delivery_cost_type!='distance_based'">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="delivery_post_code" type="text" id="delivery_post_code" ng-model="order.delivery_post_code" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                    <label for="delivery_post_code">Postal Code<span class="required" aria-required="true"></span></label>
                                                    <i class="fa fa-map-marker"></i>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group form-md-line-input">
                                              <div class="input-icon">
                                                <select name="delivery_country_address" id="delivery_country_address" class=" form-control" data-live-search="true" data-size="8" autocomplete="off"  ng-change="updateDetailedDelivery();"
                                                        ng-init="customer.address.country_code = (default_country_for_reservation ? default_country_for_reservation : 'US')"
                                                        ng-model="customer.address.country_code" 
                                                        ng-options="value.code as value.name for value in countries" >
                                                </select>
                                                <label for="delivery_country_address">{{ resource[locale]['customer_info_country']}} <span class="required" aria-required="true"></span></label>
                                                
                                              </div>
                                            </div>
                                        </div>
                                    </div>
                                     
                                    <div class="row"  ng-if="customer_delivery_address_type=='hotel'">
                                        <span class="text-danger small col-sm-12" ng-show="hotel_delivery_address_is_valid==0">Please ensure you have filled in all the required areas for the delivery address!</span>
                                    
                                        <div class="col-sm-6 ">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="hotel_name" type="text" id="hotel_name" ng-model="order.hotel_name" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                    <label for="hotel_name">Hotel/Resort Name<span class="required" aria-required="true"></span></label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6 ">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="hotel_room" type="text" id="hotel_room" ng-model="order.hotel_room" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                    <label for="hotel_room">Room #<span class="required" aria-required="true"></span></label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6 ">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="hotel_address" type="text" id="hotel_address" ng-model="order.hotel_address" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                    <label for="hotel_address">Address of Hotel/Resort<span class="required" aria-required="true"></span></label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="hotel_renter_name" type="text" id="hotel_renter_name" ng-model="order.hotel_renter_name" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                    <label for="delivery_post_code">Rented Under Name<span class="required" aria-required="true"></span></label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="hotel_phone" type="text" id="hotel_phone" ng-model="order.hotel_phone" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                    <label for="hotel_phone">Cell Phone Number of Renter<span class="required" aria-required="true"></span></label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="hotel_phone_alt" type="text" id="hotel_phone_alt" ng-model="order.hotel_phone_alt" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                    <label for="hotel_phone_alt">Alternative Cell Phone Number of Renter</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div ng-if="delivery_postal_codes != 'not_zone_based' && order.delivery_postal_name != 'not_identified' ">
                                        <label style="color:grey; margin: 1.5rem;">Postal code * </label>
                                        <select class="" ng-model="order.delivery_postal_names" ng-change="updatePostalName();" data-live-search="true" data-size="8" required>
                                            <option value="">--Please select--</option>
                                            <option ng-repeat="option in delivery_postal_codes" value="{{option.id}}">{{option.postal_code}}</option>
                                        </select>
                                    </div>
                                    <div ng-if="delivery_cost_type=='distance_based'">
                                        <div class="form-group form-md-line-input">
                                            <div class="input-icon">
                                                <input  class="form-control" type="text" name="distance_based_postal_code" ng-pattern="/^(\d{5}(-\d{4})?|[A-Z]\d[A-Z] *\d[A-Z]\d)$/" id="distance_based_postal_code" ng-model="order.zipcode" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                <label> Postal Code <span class="required" aria-required="true"></span></label>
                                                <i class="fa fa-map-marker"></i>
                                            </div>
                                        </div>
                                        <span style="color:red" ng-show="order.zipcode == null || order.zipcode==''">
                                            <span>* Use capital letters e.g. V0X1Z1 or V0X 1Z1, NOTE: the delivery cost is based on the Postal Code you entered!</span>
                                        </span>
                                    </div>    
                                </div>
                            </div>
                        </div>
                        <div ng-if="delivery_type == 'optional'" class="panel-body">
                            <div class="row">
                                <div class="col-sm-2  col-sm-offset-1">
                                    <input type="radio" ng-model="order.selected_delivery_option" name="delivery_type" value="store_pickup" ng-click="updateDeliveryAddressValid(); updateDeliveryAdress(); clearPostalName(); clearZipcode(); getDeliveryPrice();" checked> {{ resource[locale]['delivery_pickup_option_pickup']}}<br>
                                </div>
                                <div class="col-sm-3  col-sm-offset-1">
                                    <input type="radio" ng-model="order.selected_delivery_option" name="delivery_type" value="delivery" ng-click="validateDeliveryAddress(); getZones(); updateDeliveryPostalName(); getDeliveryType(); updateZipcode(); getDeliveryPrice();"> {{ resource[locale]['delivery_pickup_option_delivery']}}<br>
                                </div>
                            </div>
                            <div class="row" ng-show="order.selected_delivery_option == 'delivery'">
                                <div class="col-sm-6  col-sm-offset-3 col-md-offset-4">
                                    <div class="form-group form-md-line-input" ng-if="customer_delivery_address_type!='detailed'  && customer_delivery_address_type!='hotel'">
                                        <div class="input-icon">
                                            <input class="form-control" name="delivery_address" type="text" id="delivery_address" ng-model="order.delivery_address" ng-change="validateDeliveryAddress();" autocomplete="off">
                                            <label for="delivery_address">{{ resource[locale]['delivery_pickup_delivery_address']}} <span class="required" aria-required="true"></span></label>
                                            <i class="fa fa-map-marker"></i>
                                        </div>
                                        <span class="text-danger" ng-show="!delivery_address_is_valid">Delivery address is required.</span>
                                    </div> 
                                      <div class="row"  ng-if="customer_delivery_address_type=='detailed'">
                                        
                                        <span class="text-danger small" ng-show="detailed_delivery_address_is_valid==0">Please ensure you have filled in all the required areas for the delivery address!</span>
                                    
                                        <div class="col-sm-12 ">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="delivery_street_address" type="text" id="delivery_street_address" ng-model="order.delivery_street_address" ng-change="updateDetailedDelivery();" autocomplete="off" required>
                                                    <label for="delivery_street_address">Street Address<span class="required" aria-required="true"></span></label>
                                                    <i class="fa fa-map-marker"></i>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6 ">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="delivery_city_address" type="text" id="delivery_city_address" ng-model="order.delivery_city_address" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                    <label for="delivery_city_address">City<span class="required" aria-required="true"></span></label>
                                                    <i class="fa fa-map-marker"></i>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6 ">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="delivery_state_address" type="text" id="delivery_state_address" ng-model="order.delivery_state_address" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                    <label for="delivery_state_address">State/Province<span class="required" aria-required="true"></span></label>
                                                    <i class="fa fa-map-marker"></i>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6" ng-if="delivery_cost_type!='distance_based'">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="delivery_post_code" type="text" id="delivery_post_code" ng-model="order.delivery_post_code" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                    <label for="delivery_post_code">Postal Code<span class="required" aria-required="true"></span></label>
                                                    <i class="fa fa-map-marker"></i>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group form-md-line-input">
                                              <div class="input-icon">
                                                <select name="delivery_country_address" id="delivery_country_address" class=" form-control" data-live-search="true" data-size="8" autocomplete="off"  ng-change="updateDetailedDelivery();"
                                                        ng-init="order.delivery_country_address = (default_country_for_reservation ? default_country_for_reservation : 'US')"
                                                        ng-model="order.delivery_country_address" 
                                                        ng-options="value.code as value.name for value in countries" >
                                                </select>
                                                <label for="delivery_country_address">{{ resource[locale]['customer_info_country']}} <span class="required" aria-required="true"></span></label>
                                                
                                              </div>
                                            </div>
                                        </div>
                                    </div>  
                                    
                                    <div class="row"  ng-if="customer_delivery_address_type=='hotel'">
                                        <span class="text-danger small col-sm-12" ng-show="hotel_delivery_address_is_valid==0">Please ensure you have filled in all the required areas for the delivery address!</span>
                                    
                                        <div class="col-sm-6 ">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="hotel_name" type="text" id="hotel_name" ng-model="order.hotel_name" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                    <label for="hotel_name">Hotel/Resort Name<span class="required" aria-required="true"></span></label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6 ">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="hotel_room" type="text" id="hotel_room" ng-model="order.hotel_room" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                    <label for="hotel_room">Room #<span class="required" aria-required="true"></span></label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6 ">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="hotel_address" type="text" id="hotel_address" ng-model="order.hotel_address" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                    <label for="hotel_address">Address of Hotel/Resort<span class="required" aria-required="true"></span></label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="hotel_renter_name" type="text" id="hotel_renter_name" ng-model="order.hotel_renter_name" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                    <label for="delivery_post_code">Rented Under Name<span class="required" aria-required="true"></span></label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="hotel_phone" type="text" id="hotel_phone" ng-model="order.hotel_phone" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                    <label for="hotel_phone">Cell Phone Number of Renter<span class="required" aria-required="true"></span></label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">    
                                            <div class="form-group form-md-line-input">
                                                <div class="input-icon">
                                                    <input class="form-control" name="hotel_phone_alt" type="text" id="hotel_phone_alt" ng-model="order.hotel_phone_alt" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                    <label for="hotel_phone_alt">Alternative Cell Phone Number of Renter</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>  
                                      
                                    <div ng-if="delivery_postal_codes!='not_zone_based'">
                                        <label style="color:grey; margin: 1.5rem;">Zone * </label>
                                        <select ng-model="order.delivery_postal_names" ng-change="updatePostalName();" data-live-search="true" data-size="8" required>
                                            <option value="">--Please select--</option>
                                            <option ng-repeat="option in delivery_postal_codes" value="{{option.id}}">{{option.postal_code}}</option>
                                        </select>
                                    </div>
                                    <div ng-if="delivery_cost_type=='distance_based'">
                                        <div class="form-group form-md-line-input">
                                            <div class="input-icon">
                                                <input  class="form-control" type="text" name="distance_based_postal_code" ng-pattern="/^(\d{5}(-\d{4})?|[A-Z]\d[A-Z] *\d[A-Z]\d)$/" id="distance_based_postal_code" ng-model="order.zipcode" ng-change="updateDetailedDelivery();" autocomplete="off">
                                                <label> Postal Code <span class="required" aria-required="true"></span></label>
                                                <i class="fa fa-map-marker"></i>
                                            </div>
                                        </div>
                                        <span style="color:red" ng-show="order.zipcode==null || order.zipcode==''">
                                            <span>* Use capital letters e.g. V0X1Z1 or V0X 1Z1, NOTE: the delivery cost is based on the Postal Code you entered!</span>
                                        </span>
                                    </div>  
                                </div>
                            </div>
                        </div>
                    </div> 
                </div>
            </form>
        </div>
      </div>
      <div ng-if="delivery_type == 'pickup'" class="panel-body">
        <div class="row hide">
          <div class="col-sm-3">
            <input type="radio" ng-model="order.selected_delivery_option" name="selected_delivery_option" value="delivery" checked="checked"> {{ resource[locale]['delivery_pickup_option_delivery']}}<br>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-8 col-sm-offset-2">
            <div class="form-group form-md-line-input">
              <label>{{ resource[locale]['delivery_pickup_pickup_address']}} <span class="bold">{{ pickup_address}}</span></label>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="center-align col-sm-8 col-sm-offset-2">
            <div>
              <map center="{{ pickup_latitude_longitude}}" zoom="15">
                <marker id='gmap-id' position="{{ pickup_latitude_longitude}}" icon="http://maps.google.com/mapfiles/marker.png"></marker>          
              </map>
            </div>                                   
          </div>
        </div>
      </div>
    </div>
<!-- add fix -->
    <div class= "container-fluid">
    <div class="portlet light bordered clearfix" ng-if="(duration_type=='fixed' || is_online_reservation) && !show_rental_period_before_product_selection">
        <!--change ui-->
        <div class="portlet-title col-sm-12 title-background" title="Rental Duration">
        <!-- add fix end -->
          <div class="caption" style="margin-left: 10px">
            <div class="caption-subject bold uppercase" style="color:white"><i class="fa fa-calendar-o"></i> {{ resource[locale]['rental_period']}}</div>
          </div>
          <div class="tools" style="margin-right: 10px">
            <a href="" class="collapse"></a>
          </div>
        </div>  
        
        <!--change ui end-->
        <div ng-if="rental_period_message" ng-bind-html="rental_period_message">
            
        </div>        
        
        <div class="portlet-body form">
            <form class="form-horizontal" autocomplete="off" novalidate name="datesDataForm" id="Renter_05"> <!-- id added by Mehdi-->
                <div class="form-body">
                    <div class="row">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-3">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <!-- Alireza : disable selecting start date for immidiate reservation-->
                                            <input type="date" id="order_from_date" name="order_from_date" class="form-control" data-provide="datepicker" data-date-format="yyyy-mm-dd" ng-model="order.order_from_date" autocomplete="off" ng-disabled="default_reservation_type == 'immediate'" required>
                                            <label>{{ (delivery_option_enabled && order.selected_delivery_option == 'delivery') ? resource[locale]['rental_period_delivery_date'] : resource[locale]['rental_period_start_date'] }} <span class="required" aria-required="true"></span></label>
                                            <i class="fa fa-calendar"></i>
                                        </div>
                                    </div>
                                    <span style="color:red" ng-show="datesDataForm.order_from_date.$dirty && datesDataForm.order_from_date.$invalid">
                                        <span ng-show="datesDataForm.order_from_date.$error.required">{{ resource[locale]['rental_period_start_date_required']}}</span>
                                    </span>
                                </div>
                                <div class="col-sm-3" ng-if="show_from_time">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <select class="form-control" ng-model="order.order_from_time" ng-change="updateRentItemsForAllRenters()" ng-options="t.value as t.name for t in from_time_array" data-live-search="true" data-size="8">
                                                <option selected value>-- {{ resource[locale]['rental_period_select']}} --</option>
                                            </select>
                                            <label>{{ (delivery_option_enabled && order.selected_delivery_option == 'delivery') ? resource[locale]['rental_period_desired_delivery_time'] : resource[locale]['rental_period_desired_pickup_time'] }} <span class="required" aria-required="true"></span></label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3" ng-if="use_duration">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <select class="form-control" ng-model="order.order_duration" ng-init="order.order_duration=default_duration" ng-change="updateRentItemsForAllRenters()" ng-options="period.duration as period.display_title for period in rentalPeriods" data-live-search="true" data-size="8">
                                                <option selected value>-- {{ resource[locale]['rental_period_select']}} --</option>
                                            </select>
                                            <label>{{ resource[locale]['rental_period_duration']}} <span class="required" aria-required="true"></span></label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3" ng-if="!use_duration">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <input type="date" id="order_to_date" name="order_to_date" class="form-control" data-provide="datepicker" data-date-format="yyyy-mm-dd" ng-model="order.order_to_date" autocomplete="off" required>
                                            <!--<input type="date" id="order_to_date" name="order_to_date" class="form-control" data-provide="datepicker" data-date-format="yyyy-mm-dd" ng-model="order.order_to_date" ng-model-options="{timezone: timezone}" autocomplete="off" required>-->
                                            <label>{{ resource[locale]['rental_period_return_date']}} </label>
                                            <i class="fa fa-calendar"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3" ng-if="show_to_time && !use_duration">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <select class="form-control" ng-init="order.order_to_time = to_time_array[0].value" ng-model="order.order_to_time" ng-change="updateRentItemsForAllRenters()" ng-options="t.value as t.name for t in to_time_array" data-live-search="true" data-size="8"></select>
                                            <label>{{ resource[locale]['rental_period_return_time']}}</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3 disabled-control" ng-if="use_duration">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <input type="date" id="order_to_date" disabled="disabled" name="order_to_date" class="form-control" data-provide="datepicker" data-date-format="yyyy-mm-dd" ng-model="order.order_to_date" autocomplete="off" required>
                                            <label>{{ resource[locale]['rental_period_return_date']}} </label>
                                            <i class="fa fa-calendar"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3 disabled-control" ng-if="show_to_time && use_duration">
                                    <div class="form-group form-md-line-input">
                                        <div class="input-icon">
                                            <select class="form-control" disabled="disabled" ng-init="order.order_to_time = order.order_from_time" ng-model="order.order_to_time" ng-options="t.value as t.name for t in to_time_array" data-live-search="true" data-size="8"></select>
                                            <label>{{ resource[locale]['rental_period_return_time']}}</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <span style="color:red" ng-show="!isValidDate()">
                                        <span>{{ errorMessage['order_date'] }}</span>
                                    </span>

                                </div>
                            </div>
                            <span style="color:red" ng-show="hasError['order_date']">
                                <span>{{ errorMessage['order_date'] }}</span>
                            </span>
                        </div>
                    </div>
                </div>
            </form>
        </div>
      </div>
    </div>
    <div class="container-fluid" ng-if="show_borrow_items" id="Renter_06">  <!-- id added by Mehdi-->
        <!-- add fix -->
        <div class="portlet light bordered clearfix">
            <!--change ui-->
            <div class="portlet-title col-sm-12 title-background" title="Select borrow items (optional)">
                <!-- add fix end -->
                <div class="caption" style="margin-left: 10px">
                    <div class="caption-subject bold uppercase" style="color:white"><i class="fa fa-anchor"></i> Borrow items (no cost)</div>
                </div>
                <div class="tools" style="margin-right: 10px">
                    <a href="" class="collapse" data-original-title="" title=""></a>
                </div>
            </div>
            <!--change ui end-->
            <div class="portlet-body form">
                <div class="row">
                    <div data-ng-repeat="(index, product_for_borrow) in order.products_for_borrow">
                        <div class="form-group clearfix" id="select-borrow-row-{{index}}">
                            <label class="col-xs-2 control-label" id="product-label">{{ product_for_borrow.group_name}}</label>
                            <div class="col-xs-4" id="select-borrow-{{index}}">
                                <select ng-model="order.products_for_borrow[index].category_id" ng-options="value.id as value.name for value in order.products_for_borrow[index].categories" class="form-control"></select>
                            </div>
                            <div class="col-xs-3" id="select-products">
                                <select ng-model="order.products_for_borrow[index].qty" class="form-control" ng-options="n for n in [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]"></select>
                            </div>
                            <div class="col-xs-3" id="select-products">
                                <button class="btn green" ng-if="index == 0" ng-click="addNewBorrowItem(product_for_borrow.parent_category)"><i class="fa fa-plus"></i></button>
                                <button class="btn red" ng-if="index !== 0" ng-click="removeBorrowItem(index)"><i class="fa fa-remove"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center">
                    <br class="hiddex" />
                    <button id="cat-{{ category.id}}" class="btn green image-container small-image" data-ng-repeat="category in productCategories| borrowRootCategories" data-ng-click="addNewBorrowItem(category)" style="margin: 5px 2px;">
                        <img class="img-responsive" ng-src="/assets/icon/{{category.icon_name}}" onerror="this.src='/assets/icon/logo_default_dark.png'">
                        {{ category.name}}
                    </button>
                </div>
                <div class="text-center">
                    <br class="hiddex" />
                </div>
            </div>
            <hr>
        </div>
    </div>
    <div class="container-fluid" ng-if="show_purchase_items" id="Renter_07"> <!-- id added by Mehdi-->
        <!-- add fix -->
        <div class="portlet light bordered clearfix">
            <!--change ui-->
            <div class="portlet-title col-sm-12 title-background" title="Select purchase items (optional)">
                <!-- add fix end -->
                <div class="caption" style="margin-left: 10px">
                    <div class="caption-subject bold uppercase" style="color:white">I also would like to purchase</div>
                </div>
                <div class="tools" style="margin-right: 10px">
                    <a href="" class="collapse" data-original-title="" title=""></a>
                </div>
            </div>
            <!--change ui end-->
            <div class="portlet-body form">
                <div class="row">
                    <div data-ng-repeat="(index, product_for_purchase) in order.products_for_purchase">
                        <div class="form-group clearfix" id="select-purchase-row-{{index}}">
                            <label class="col-xs-2 control-label" id="product-label">{{ product_for_purchase.group_name}}</label>
                            <div class="col-xs-4" id="select-purchase-{{index}}">
                                <select ng-model="order.products_for_purchase[index].category_id" ng-change="updatePurchaseItems()" ng-options="value.id as value.name for value in order.products_for_purchase[index].categories" class="form-control"></select>
                            </div>
                            <div class="col-xs-3" id="select-products">
                                <select ng-model="order.products_for_purchase[index].qty" ng-change="updatePurchaseItems()" class="form-control" ng-options="n for n in [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]"></select>
                            </div>
                            <div class="col-xs-3" id="select-products">
                                <button class="btn green" ng-click="addNewPurchaseItem(product_for_purchase.parent_category)"><i class="fa fa-plus"></i></button>
                                <button class="btn red" ng-click="removePurchaseItem(index)"><i class="fa fa-remove"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center">
                    <br class="hiddex" />
                    <button id="cat-{{ category.id}}" class="btn green small-image" data-ng-repeat="category in productCategories| saleRootCategories" data-ng-click="addNewPurchaseItem(category)" style="margin: 5px 2px">
                        <img class="img-responsive" ng-src="/assets/icon/{{category.icon_name}}" onerror="this.src='/assets/icon/logo_default_dark.png'">
                        {{ category.name}}
                    </button>
                </div>
                <div class="form-actions">
                    <strong>Total Purchase Price:</strong> <span class="alert">{{ currency_symbol}}{{ order.total_purchase_price}}</span>
                </div>
            </div>
        </div>
    </div>
    
    <!--one page-->
    <div class="container-fluid" ng-if="!order.is_admin || show_signature_in_backend" id="Renter_08"> <!-- id added by Mehdi-->
        <!--change ui-->
        <!-- add fix -->
        <div class="portlet light bordered clearfix">
            <!--change ui-->
            <div class="portlet-title col-sm-12 title-background" title="our waiver/terms and conditions">
                <!-- add fix end -->
                <div class="caption" style="margin-left: 10px">
                    <div class="caption-subject bold uppercase" style="color:white">{{ resource[locale]['terms_condition_title']}}</div>
                </div>
            </div>
            <!--change ui end-->
            <div class="portlet-body form">
                <div id="multiple-renter-container">
                    <table id="renters" class="marginbottom30">
                        <tbody>
                            <tr data-ng-repeat="(renter_id, _renter) in order.renters">
                                <td>
                                    <div class="md-checkbox-list">
                                        <div class="md-checkbox">
                                            <input ng-change="setCurrentRenter(renter_id)" ng-if="!_renter.agree" class="md-check" id="agreement_{{renter_id}}" name="agreement_{{renter_id}}" type="checkbox" required="required" ng-model="order.renters[renter_id].agree" data-toggle="modal" data-target="#termsandconditions{{renter_id}}">
                                            <input ng-change="setCurrentRenter(renter_id)" ng-if="_renter.agree" class="md-check" id="agreement_{{renter_id}}" name="agreement_{{renter_id}}" type="checkbox" required="required" ng-model="order.renters[renter_id].agree">
                                            <label for="agreement_{{renter_id}}">
                                                <span></span>
                                                <span class="check"></span>
                                                <span class="box"></span>
                                            </label>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <label>{{ resource[locale]['terms_condition_body_1']}} <strong>{{_renter.name}}</strong> {{ resource[locale]['terms_condition_body_2']}} </label>
                                </td>
                                <td>
                                    <a class="btn btn-warning btn-sm btninline" ng-click="setCurrentRenter(renter_id)" data-toggle="modal" data-target="#termsandconditions{{renter_id}}" style="margin-left:1em;">{{ resource[locale]['terms_condition_more']}}</a>
                                </td>
                            </tr>
                            <tr data-ng-if="order.is_admin">
                                <td></td>
                                <td></td>
                                <td>
                                    <a class="btn btn-default btn-sm pull-right" ng-click="skipTermsAndConditions()">{{ resource[locale]['terms_condition_skip']}}</a>
                                </td>
                            </tr>
                        </tbody>
                    </table><br>
                </div>
                <!-- Modal -->
                <div data-ng-repeat="(renter_id, _renter) in order.renters">
                    <div id="termsandconditions{{renter_id}}" class="modal fade" role="dialog" data-backdrop="static">
                        <!--Alireza-->
                        <div class="modal-dialog" style="overflow-y:initial !important;">
                            <!-- Modal content-->
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" ng-click="resetCurrentRenterCheckBox()" data-dismiss="modal">&times;</button> <!--Alireza-->
                                    <h4 class="modal-title">{{ terms_and_conditions_title}}</h4>
                                </div>
                                <div class="modal-body" style="height:400px; overflow-y:auto;">
                                    <div ng-bind-html="terms_and_conditions"></div>
                                    <div ng-if="signature_is_enabled" class="signaturediv" style="padding:1em;">
                                        <input name="renter_is_minor" id="renter_is_minor{{renter_id}}" class="md-check" ng-change="renterIsMinorClicked()" ng-model="_renter.is_minor" type="checkbox">
                                        <label for="renter_is_minor">
                                            <span></span><span class="check"></span><span class="box"></span>
                                            {{ resource[locale]['terms_condition_minor']}}
                                        </label>
                                        <h4>{{ resource[locale]['terms_condition_sign_here']}}</h4>
                                        <canvas style="border:1px solid #000000; margin-right:10px; display:block;" width="300" height="100" id="canvas{{renter_id}}" drawing></canvas>
                                        <!-- Alireza : modified for changing buttons and functions -->
                                        <div class="modal-footer">
                                            <button class="btn btn-success btn-sm col-md-3" id="btn_agree{{renter_id}}"
                                                    ng-click="saveAsImage(current_renter_id)">
                                                {{resource[locale]['terms_condition_close']}}
                                            </button>
                                            <button class="btn btn-warning btn-sm col-md-3" ng-click="reset(current_renter_id)">{{resource[locale]['terms_condition_clear_signature']}}</button>
                                            <button class="btn btn-danger btn-sm  col-md-3 pull-right" data-dismiss="modal" ng-click="resetCurrentRenterCheckBox()">{{resource[locale]['terms_condition_cancel']}}</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    
    <div ng-if="order.needs_preauthorize" title="Pre-Authorize" id="Renter_09">  <!-- id added by Mehdi-->
        <div class="container-fluid">
            <div class="modal fade" id="skip_pre_auth_modal">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="{{ resource[locale]['terms_condition_close']}}"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title">{{ resource[locale]['preauth_skip_title']}}</h4>
                        </div>
                        <form autocomplete="off" class="form-horizontal" novalidate name="skipPreAuthForm" ng-submit="skipPreAuthForm.$valid && skipPreAuthWithAccessCode()">
                            <div class="modal-body">
                                <div class="form-group row">
                                    <div class="col-sm-3">
                                        <label for="pre_auth_skip_comment">{{ resource[locale]['preauth_comment']}}</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <textarea ng-model="order.skip_pre_auth_comment" id="pre_auth_skip_comment" name="pre_auth_skip_comment" class="form-control" rows="1" required autocomplete="off"></textarea>
                                        <span style="color:red" ng-show="skipPreAuthForm.$submitted && skipPreAuthForm.pre_auth_skip_comment.$invalid">
                                            <span ng-show="skipPreAuthForm.pre_auth_skip_comment.$error.required">{{ resource[locale]['preauth_comment_required']}}</span>
                                        </span>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-3">
                                        <label for="pre_auth_access_key">{{ resource[locale]['preauth_access_code']}}</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <input type="password" placeholder="Access Code" ng-model="root_user.access_key" id="pre_auth_access_key" name="pre_auth_access_key" class="form-control" required autocomplete="off">
                                        <span style="color:red" ng-show="skipPreAuthForm.$submitted && skipPreAuthForm.pre_auth_access_key.$invalid">
                                            <span ng-show="skipPreAuthForm.pre_auth_access_key.$error.required">{{ resource[locale]['preauth_access_code_required']}}</span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" data-dismiss="modal" class="btn btn-default">{{ resource[locale]['preauth_cancel']}}</button>
                                <input type="submit" value="{{ resource[locale]['review_confirm']}}" class="btn blue">
                            </div>
                        </form>
                    </div><!-- /.modal-content -->
                </div><!-- /.modal-dialog -->
            </div><!-- /.modal -->
            <!--change ui-->
            <!--      <div class="page-head">
          <div class="page-title">
            <h1 class="ipadh1">{{ resource[locale]['security_deposit']}}</h1>
          </div>
        </div>-->
            <!--change ui end-->
            <!-- add fix -->
            <div class="portlet light bordered clearfix">
                <!--change ui-->
                <div class="portlet-title col-sm-12 title-background" title="payment info">
                    <!-- add fix end -->
                    <div class="caption" style="margin-left: 10px">
                        <!-- Alireza : Change title for credit card based on the action -->
                        <div class="caption-subject bold uppercase" style="color:white">
                            <i class="fa fa-user"></i>
                            {{ resource[locale]['credit_card_info']}}
                        </div>
                    </div>
                </div>

                <div class="portlet light bordered col-sm-6 col-sm-offset-3" ng-if="allow_promotion_code_frontend == 1" style="margin-top: 30px;">
                    <!-- add fix -->
                    <span class="col-sm-12 font-green add_margin_bottom">Promotion Code (If applicable):   </span>
                    <div class="col-sm-12">
                        <!-- add fix end -->
                        <span class="col-sm-9"><input class="form-control" type="text" name="promotion_code" id="promotion_code" ng-model="order.promotion_code" autocomplete="off"></span>
                        <span class="col-sm-3"><a class="btn btn-success btn-sm" ng-click="getPromotionCode()" style="height: 34px; display: block">Apply</a></span>
                    </div>
                    <p class="text-danger" ng-show="promotion_code_is_valid == 0">Promotion Code is not valid or no longer active</p>
                    <p class="text-success" ng-show="promotion_code_is_valid == 1">Promotion Code added to this order successfully, please submit the order once everything looks right.</p>
                </div>
                <!--change ui end-->
                <div class="portlet-body">
                    <div class="row">
                        <div class="col-sm-1"></div>
                        <div class="col-sm-12">
                            <div ng-if="order.is_admin && order.skip_pre_auth" class="text-center">
                                <hr>
                                <h2>{{ resource[locale]['preauth_skipped']}}</h2>
                                <h3 class="text-center">{{ order.skip_pre_auth_comment}}</h3>
                                <hr>
                                <br />
                            </div>
                            <div class="credit-cards-data-container">

                                <div class="col-lg-10 col-lg-offset-1" ng-if="customer_can_skip_preauth">
                                    <div class="md-checkbox" data-ng-if="!order.is_admin">
                                        <input class="md-check" id="skippreauth2" name="skippreauth2" type="checkbox" required="required" ng-model="order.skip_pre_auth">
                                        <label ng-if="is_online_reservation" for="skippreauth2">
                                            <span></span><span class="check"></span><span class="box"></span>
                                            {{ resource[locale]['preauth_skipped_by_customer']}}
                                        </label>
                                        <label ng-if="!is_online_reservation" for="skippreauth2">
                                            <span></span><span class="check"></span><span class="box"></span>
                                            {{ resource[locale]['preauth_skipped_by_customer_walk_in']}}
                                        </label>
                                    </div>
                                </div>

                                <div ng-show="!order.skip_pre_auth" class="row">
                                    <div class="col-sm-12 col-md-12 col-lg-10 margin-bottom-10 col-lg-offset-1 margintopcenter-ipad">
                                        <!-- Alireza : Hide messae if it is a payment -->
                                        <br />
                                        <div ng-if="submit_button=='Validate'" class="alert alert-warning">
                                            {{ resource[locale]['preauth_credit_title_1']}}
                                            <strong ng-show="show_pre_auth_amount">{{ currency_symbol}}{{ order.total_guarantee_fee}}</strong>
                                            {{ resource[locale]['preauth_credit_title_2']}}
                                        </div>
                                        <!--div ng-if="!is_online_reservation && submit_button=='Validate'" class="alert  alert-warning">
                                       {{ resource[locale]['preauth_credit_title_1_walk_in']}}
                                       <h3> {{ resource[locale]['preauth_credit_title_2_walk_in']}}</h3>
                                    </div-->
                                        <!-- Alireza : end of message -->

                                        <form id="payment_form" Stripe-form ng-if="payment_provider === 'Stripe'">
                                            <div class="form-group">
                                                <input required="required" class="form-control credit-card" type="text" ng-model="cc_name_on_card" name="cc_name_on_card" placeholder="Full name on card">
                                            </div>

                                            <div class="form-group">
                                                <div id="card-element">
                                                    <!-- a Stripe Element will be inserted here. -->
                                                </div>
                                                <input type="hidden" name="cc_token" id="cc_token">
                                                <!-- Used to display form errors -->
                                            </div>

                                            <div class="form-group">
                                                <div class="error alert alert-danger hidden"></div>
                                            </div>

                                        </form>

                                        <form id="payment_form" Cardconnect-form ng-if="payment_provider === 'Cardconnect'">
                                            <style>
                                                #tokenframe {
                                                    height: 37px;
                                                    padding-top: 0;
                                                }
                                            </style>

                                            <div class="form-group">
                                                <input required="required" class="form-control credit-card" type="text" ng-blur="validateName()" ng-change="validateName()" ng-model="cc_name_on_card" name="cc_name_on_card" placeholder="Full name on card">
                                            </div>

                                            <div class="form-group">
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <iframe id="tokenframe" name="tokenframe" ng-src="{{ tokenFrameUrl }}" frameborder="0" scrolling="no" class="form-control">
                                                            Credit Card Number
                                                        </iframe>
                                                    </div>
                                                </div>
                                                <div class="col-sm-2">
                                                    <div class="form-group">
                                                        <input required="required" ng-maxlength="2" ng-minlength="1" ng-blur="validateMonth()" ng-change="validateMonth()" class="form-control credit-card" ng-model="cc_expire_month" type="number" placeholder="MM">
                                                    </div>
                                                </div>
                                                <div class="col-sm-2">
                                                    <div class="form-group">
                                                        <input required="required" ng-maxlength="2" ng-minlength="2" ng-blur="validateYear()" ng-change="validateYear()" class="form-control credit-card" type="number" ng-model="cc_expire_year" placeholder="YY">
                                                    </div>
                                                </div>
                                                <div class="col-sm-2">
                                                    <div class="form-group">
                                                        <input class="form-control credit-card" ng-maxlength="4" ng-minlength="2" required="required" ng-blur="validateCvv2()" ng-change="validateCvv2()" ng-model="cc_cvv2" type="number" name="cc_cvv2" placeholder="Cvv2" maxlength="4" minlength="3">
                                                    </div>
                                                </div>
                                                <div class="clearfix"></div>
                                            </div>
                                            <div class="form-group">
                                                <div class="col-sm-12">
                                                    <div class="alert alert-danger" ng-show="cardHasErrors">
                                                        <ul>
                                                            <li ng-repeat="cardErrorMessage in cardErrors" ng-if="cardErrorMessage">{{ cardErrorMessage }}</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="clearfix"></div>

                                        </form>

                                        <!-- Alireza : Warning for test mode -->
                                        <div class="col-md-12" data-ng-if="payment_test_mode">
                                            <div class="error alert alert-warning">
                                                <i class="fa fa-warning" style="font-size:18px; color:white;"></i> Payment Test Mode Enabled
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-1"></div>
                    </div>
                </div>
            </div>
            <div class="col-sm-12 clearfix margin-bottom-20" id="Renter_10">  <!-- id added by Mehdi-->
                <!--<a class="btn red btn-lg pull-left" wz-previous>{{ resource[locale]['back_title_simple'] }}</a>-->
                <!--<input type="submit" wz-next data-ng-disabled="!step3isValid() || order.is_processing" ng-value="getLastStepBtnText()" class="btn green btn-lg pull-right"/>-->
                <div class="pull-right" data-ng-if="order.is_admin">
                    <button class="btn purple btn-lg" data-ng-click="openSkipPreAuthModal()" ng-if="!order.skip_pre_auth" data-ng-disabled="wait || step1agreement() || (!order.order_from_time && show_from_time&&(is_online_reservation || reservation_type=='fixed')) || detailed_delivery_address_is_valid==0 || hotel_delivery_address_is_valid==0 || !order.customer_data_is_valid || (!delivery_address_is_valid && customer_delivery_address_type != 'detailed' && customer_delivery_address_type != 'hotel') || (is_online_reservation && order.delivery_postal_name == '') || (is_online_reservation && (order.zipcode == null || order.zipcode == ''))">{{ resource[locale]['preauth_skip_title']}}</button>
                </div>
                <!--add promotion (fix estimated price)-->
                <input data-ng-disabled="step2ExitValidation()" style="display:none">
            </div>
        </div>
    </div>
    <!--one page end-->
<!--change ui-->
<!--add promotion-->
<!--<div class="col-sm-4" ng-if="allow_promotion_code_frontend == 1" style="margin-bottom: 30px; margin-left: 15px;">
    Add Your Promotion Code (If applicable):   <input  class="form-control" type="text" name="promotion_code" id="promotion_code" ng-model="order.promotion_code" ng-change="getPromotionCode()" autocomplete="off">
    <span class="text-danger" ng-show="promotion_code_is_valid == 0">Promotion Code is not valid or no longer active</span>
    <span class="text-success" ng-show="promotion_code_is_valid == 1">Promotion Code added to this order successfully, please submit the order once everything looks right.</span>
</div>   -->
<!--add promotion end--> 
<!--change ui end-->
<!-- add fix -->
<div class="clearfix margin-bottom-20 addMarginBothSide" title="{{ resource[locale]['next_title']}}">

        <div class="col-xs-3" ng-if="show_total_price_to_customer" id="Renter_11"><strong>Estimated Total Price:</strong> <span class="alert alert-warning show-as-div-mobile">{{ currency_symbol }}{{ order.total_price }}</span></div>
 <!-- add fix end -->       
        <!--one page-->
        <input type="submit" wz-next value="{{submit_button}}" class="btn green btn-lg pull-right" id="Renter_12" title="Go to the next step" ng-click="getDeliveryPrice()" data-ng-disabled="wait || step1agreement() || (!order.order_from_time && show_from_time&&(is_online_reservation || reservation_type=='fixed')) || detailed_delivery_address_is_valid==0 || hotel_delivery_address_is_valid==0 || !order.customer_data_is_valid || (!delivery_address_is_valid && customer_delivery_address_type != 'detailed' && customer_delivery_address_type != 'hotel') || (is_online_reservation && order.delivery_postal_name == '') || (is_online_reservation && (order.zipcode == null || order.zipcode == ''))"/>
        <!--one page end-->
        <div class="col-xs-1"></div> 
        <div class="col-xs-2" ng-if="order.is_admin && must_check_availability" id="Renter_13">  <!-- id added by Mehdi-->
            <button type="button" class="btn blue btn-lg " ng-click="getNumberOfAvailable()">{{ resource[locale]['check_availability']}}</button>
        </div>
</div>
</wz-step>

    <!--one page-->
<!--  <wz-step title="{{ resource[locale]['review_title']}}">
    <div class= "container-fluid">
      <div class= "container-fluid">
        <div class="page-head">
          <div class="page-title"><h1 class="ipadh1">{{ resource[locale]['review_title']}}</h1></div>
        </div>
        <div class="row">
            <div class="portlet light bordered">
                <div class="portlet-title">
                    <div class="caption">
                        <div class="caption-subject font-blue bold uppercase">{{ resource[locale]['customer_info']}}</div>
                    </div>
                </div>
                <div class="portlet-body">
                     <div class="row">
                         <div class="col-sm-5">{{ resource[locale]['review_name']}}<strong> {{ customer.first_name }} {{ customer.last_name }}</strong></div>
                         <div class="col-sm-3">{{ resource[locale]['customer_info_phone']}}<span class=""><strong> {{ customer.phone }}</strong></span></div>
                         <div class="col-sm-4">{{ resource[locale]['customer_info_email']}}<strong> {{ customer.email }}</strong></div>
                     </div>
                     <div data-ng-if="customer_address_type == 'detailed'">
                         <div class="row margin-bottom-20">
                             <div class="col-sm-6">{{ resource[locale]['review_street1']}}<strong> {{ customer.address.street_1 }}</strong></div>
                             <div class="col-sm-6">{{ resource[locale]['review_street2']}}<strong> {{ customer.address.street_2 }}</strong></div>
                             <div class="col-sm-3">{{ resource[locale]['customer_info_city']}}<strong> {{ customer.address.city }}</strong></div>
                             <div class="col-sm-3">{{ resource[locale]['customer_info_state']}}<strong> {{ customer.address.state_code }}</strong></div>
                             <div class="col-sm-2">{{ resource[locale]['customer_info_postal_code']}}<strong> {{ customer.address.postal_code }}</strong></div>
                             <div class="col-sm-3">{{ resource[locale]['customer_info_country']}}<strong> {{ customer.address.country_code }}</strong></div>
                         </div>
                     </div>
                     <div data-ng-if="customer_address_type == 'brief'">
                        <div class="row margin-bottom-20">
                             <div class="col-sm-5">{{ resource[locale]['customer_info_address']}}<strong> {{ customer.address.street_1 }}</strong></div>
                             <div class="col-sm-3">{{ resource[locale]['customer_info_city']}}<strong> {{ customer.address.city }}</strong></div>
                             <div class="col-sm-4">{{ resource[locale]['customer_info_postal_code']}}<strong> {{ customer.address.postal_code }}</strong></div>
                        </div>
                     </div>
                    <div data-ng-if="has_delivery">
                         <div class="row margin-bottom-20">
                            <div class="col-sm-12">{{ resource[locale]['delivery_pickup_delivery_address']}}<strong> {{ order.delivery_address }}</strong></div>
                            <div class="col-sm-12">{{ resource[locale]['delivery_pickup_cost']}}<strong> {{ currency_symbol }}{{ delivery_cost }}</strong></div>
                         </div>
                    </div>
                </div>
            </div>
          </div>
          <div class="portlet light bordered">
            <div class="portlet-title">
              <div class="caption">
                <div class="caption-subject font-blue bold uppercase">{{ resource[locale]['rental_period']}}</div>
              </div>
            </div>
            <div class="portlet-body">
              <div class="row">
                <div class="col-sm-5">{{ resource[locale]['rental_period_start_date']}}<strong> {{ order.order_from_date.toLocaleDateString("en-au", {year: "numeric", month: "short", day: "numeric"})}} <span ng-if="show_from_time">@{{ order.order_from_time ? order.order_from_time : '--?'}}</span></strong></div>
                <div class="col-sm-5">{{ resource[locale]['rental_period_end_date']}}<strong> {{ order.order_to_date.toLocaleDateString("en-au", {year: "numeric", month: "short", day: "numeric"})}}<span ng-if="show_to_time">@{{ order.order_to_time ? order.order_to_time : '--?'}}</span></strong></div>
                <br>
              </div>
            </div>
          </div>

          <div class="portlet light bordered">
            <div class="portlet-title">
              <div class="caption">
                <div class="caption-subject font-blue bold uppercase">{{ resource[locale]['review_items_for_rent']}}</div>
              </div>
              <div class="tools">
                <a href="" class="collapse" data-original-title="" title=""></a>
              </div>
            </div>
            <div class="portlet-body" ng-repeat="renter in order.renters">
              <strong>{{renter.name}}</strong>
              <div class="table-responsive">
                <table class="table data-table table-stripped table-hover">
                  <thead>
                  <th><strong>{{ resource[locale]['review_item']}}</strong></th>
                  <th ng-if="show_size_to_customer"><strong>{{ resource[locale]['review_size']}}</strong></th>
                  <th>{{ resource[locale]['review_qty']}}</th>
                  </thead>
                  <tbody ng-repeat="(index, rent_item) in renter.products_for_rent | itemQtyGtCompare:1">
                    <tr >
                      <td><strong>{{ getProductCategoryName(rent_item)}}</strong></td>
                      <td ng-if="show_size_to_customer"><strong>{{ rent_item.selected_option}}</strong></td>
                      <td><strong>{{ rent_item.qty}}</strong></td>
                    </tr>
                    <tr></tr>
                    <tr data-ng-if="hasCategoryAttribute(rent_item.category_id)" data-ng-repeat="(ra_index, renter_attribute) in filtered_category_attributes">
                      <td style="padding-left: 30px;">
                        {{renter.products_for_rent[index].attributes[ra_index].attribute_name}}
                      </td>
                      <td  data-ng-if="renter_attribute.input_type == 'text'" style="padding-left: 30px;">
                        {{renter.products_for_rent[index].attributes[ra_index].attribute_value}}

                      </td>
                      <td data-ng-if="renter_attribute.input_type == 'select'" style="padding-left: 30px;">
                        <select data-ng-if="renter_attribute.input_type == 'select'" ng-model="renter.products_for_rent[index].attributes[ra_index].attribute_value" class="form-control" data-live-search="true" data-size="8" ng-options="value.value as value.display_name for value in attributes_list_of_values| filter:{attribute_id : renter_attribute.attribute_id}" disabled="disabled"></select>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="modal fade" id="change_guarantee_fee_modal">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                      <h4 class="modal-title">{{ resource[locale]['review_change_fee']}}</h4>
                    </div>
                    <div class="modal-body">
                      <div ng-if="!root_user.id">
                        <div class="form-group">
                          <label>{{ resource[locale]['review_access_key']}}</label>
                          <input type="password" ng-model="root_user.access_key" class="form-control">
                        </div>
                        <button class="btn blue" data-ng-click="checkRootAccessKey()">Enter</button>
                      </div>
                      <div ng-if="root_user.id">
                        <div class="form-group">
                          <label>{{ resource[locale]['review_deposit_fee']}}</label>
                          <input type="text" ng-model="order.total_guarantee_fee" class="form-control">
                        </div>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-default" ng-click="closeChangeGuaranteeFeeModal()">{{ resource[locale]['review_confirm']}} </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div ng-if="show_borrow_items">
              <div class="portlet light bordered" ng-if="show_borrow_items">
              <div class="portlet-title">
                <div class="caption">
                  <div class="caption-subject font-blue bold uppercase">Items For Borrow</div>
                </div>
                <div class="tools">
                  <a href="" class="collapse" data-original-title="" title=""></a>
                </div>
              </div>
              <div class="portlet-body" ng-if="order.products_for_borrow_count">
                <div class ="table-responsive">
                  <table class="table data-table table-stripped table-hover">
                    <thead>
                    <th>Item</th>
                    <th>Qty</th>
                    </thead>
                    <tbody>
                      <tr data-ng-repeat="item in order.products_for_borrow| itemQtyGtCompare:1">
                        <td>{{ getProductCategoryName(item)}}</td>
                        <td>{{ item.qty}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="portlet-body" ng-if="!order.products_for_borrow_count">
                <p>
                  No borrow item added!
                </p>
                <br/>
              </div>
            </div>
            <div ng-if="show_purchase_items">
              <div class="portlet light bordered" ng-if="show_purchase_items">
              <div class="portlet-title">
                <div class="caption">
                  <div class="caption-subject font-blue bold uppercase">Items For Purchase</div>
                </div>
                <div class="tools">
                  <a href="" class="collapse" data-original-title="" title=""></a>
                </div>
              </div>
              <div class="portlet-body" ng-if="order.products_for_purchase_count">
                <div class ="table-responsive">
                  <table class="table data-table table-stripped table-hover">
                    <thead>
                    <th>Item</th>
                    <th>Qty</th>
                    <th>Price per item</th>
                    <th>Total price</th>
                    </thead>
                    <tbody>
                      <tr data-ng-repeat="item in order.products_for_purchase| itemQtyGtCompare:1">
                        <td>{{ getProductCategoryName(item)}}</td>
                        <td>{{ item.qty}}</td>
                        <td>{{ currency_symbol}}{{ getProductCategorySalePrice(item)}}</td>
                        <td>{{ currency_symbol}}{{ getProductCategorySalePrice(item) * item.qty}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <p>
                  <strong>Total Purchase Price:</strong> {{ currency_symbol}}{{ order.total_purchase_price}}
                </p>
              </div>
              <div class="portlet-body" ng-if="!order.products_for_purchase_count">
                <p>
                  No purchase item added!
                </p> 
                <br/>
              </div>
            </div>
          </div>
          <div class="portlet light bordered" ng-if="show_total_price_to_customer">
            <div class="portlet-title">
              <div class="caption">
                <div class="caption-subject font-blue bold uppercase">Estimated Total Price</div>
              </div>
            </div>
            <div class="portlet-body">
              <p class=""><strong>Total Price:</strong> <span class="alert alert-warning">{{ currency_symbol}}{{ order.total_price}}</span></p>
            </div>
          </div>
          one page and end
        </div>
      </div>
       Terms & Conditions            
      
      <div class="col-sm-12 clearfix margin-bottom-20" title="{{ resource[locale]['review_confirm_title']}}">
        <a class="btn red btn-lg" wz-previous title="{{ resource[locale]['back_title']}}">{{ resource[locale]['back_title']}}</a>
        <input type="submit" wz-next value="{{ (order.needs_preauthorize || show_total_price_to_customer) ? resource[locale]['review_confirm'] : resource[locale]['review_submit']}}" data-ng-disabled="step2ExitValidation()" class="btn green pull-right btn-lg" title="Submit order information"/>
      </div>
    </div>
  </wz-step>-->
<!--one page end-->
</wizard>
